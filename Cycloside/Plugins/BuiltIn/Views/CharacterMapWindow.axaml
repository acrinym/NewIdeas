<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:i="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
        xmlns:ia="clr-namespace:Avalonia.Xaml.Interactions.Core;assembly=Avalonia.Xaml.Interactions"
        xmlns:local="clr-namespace:Cycloside.Plugins.BuiltIn"
        x:Class="Cycloside.Plugins.BuiltIn.CharacterMapWindow"
        x:DataType="local:CharacterMapPlugin"
        x:CompileBindings="False"
        Title="Character Map" Width="500" Height="600">
    <DockPanel>
        <ComboBox ItemsSource="{Binding FontNames}" SelectedItem="{Binding SelectedFont, Mode=TwoWay}" Margin="5" DockPanel.Dock="Top"/>
        <ScrollViewer DockPanel.Dock="Top" Margin="5" Height="380">
            <ListBox x:Name="CharList" ItemsSource="{Binding Characters}" SelectionMode="Single">
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" FontFamily="{Binding DataContext.SelectedFont, RelativeSource={RelativeSource AncestorType=local:CharacterMapWindow}}" FontSize="20" Margin="4"/>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ScrollViewer>
        <StackPanel DockPanel.Dock="Bottom" Margin="5" Spacing="5">
            <TextBlock Text="{Binding PreviewCharacter}" FontFamily="{Binding SelectedFont}" FontSize="48" HorizontalAlignment="Center"/>
            <TextBox Text="{Binding TextBuffer, Mode=TwoWay}" AcceptsReturn="True" Height="60"/>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                <Button Content="Copy" Command="{Binding CopyBufferCommand}"/>
                <Button Content="Clear" Command="{Binding ClearBufferCommand}"/>
            </StackPanel>
        </StackPanel>
    </DockPanel>
</Window>
